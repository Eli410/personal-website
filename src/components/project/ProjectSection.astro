---
export interface Props {
  titulo: string;
  descripcion: string;
  imagen: string;
  tecnologias: string[];
  url?: string;
  github?: string;
  categoria?: string;
  index: number;
  role?: string;
  dateRange?: string;
  subtitle?: string;
}

const { titulo, descripcion, imagen, tecnologias, url, github, categoria, index, dateRange } =
  Astro.props;
const githubUrl = github ?? (url?.includes("github.com") ? url : null);
---

<section
  data-index={index}
  data-categoria={categoria ?? ""}
  class="project-section animate-fadeInUp"
>
  <div class="project-section__inner">
    <div class="project-section__media">
      <img
        src={imagen}
        alt={`Project: ${titulo}`}
        class="project-section__image"
        loading="lazy"
      />
    </div>
    <div class="project-section__content">
      <h2 class="project-section__title">{titulo}</h2>
      {dateRange && (
        <p class="project-section__date">{dateRange}</p>
      )}
      <div class="project-section__tech">
        {
          tecnologias.map((tech) => (
            <span class="project-section__tech-tag">{tech}</span>
          ))
        }
      </div>
      <p class="project-section__description">{descripcion}</p>
      <div class="project-section__actions">
        {githubUrl && (
          <a
            href={githubUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="project-section__btn project-section__btn--github"
          >
            <img src="/icons/github.svg" alt="" class="project-section__btn-icon" width="20" height="20" />
            GitHub
          </a>
        )}
        {url && url !== githubUrl && (
          <a
            href={url}
            target="_blank"
            rel="noopener noreferrer"
            class="project-section__btn project-section__btn--outline"
          >
            View project
          </a>
        )}
      </div>
    </div>
  </div>
</section>
