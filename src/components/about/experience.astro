---
// CSS
import "../../styles/experiencie.css";

// Data
import { jobs } from "../../data/jobsData";
---

<section class="site-container experience mt-16 mx-auto max-w-6xl px-4 bg-transparent">
  <h2
    class="text-4xl font-bold flex flex-col items-center gap-6 text-center whitespace-nowrap text-[#38bdf8] md:flex-row md:items-center md:text-start"
  >
    <span>My Experience</span>
    <span
      class="hidden h-1 grow rounded-lg bg-gradient-to-r from-[#1e293b] to-[#38bdf8]/30 md:block"
    ></span>
  </h2>

  <section class="jobs">
    <div class="job-title" data-lenis-prevent>
      <div class="job-title-indicator" aria-hidden="true"></div>
      {
        jobs.map((job, index) => (
          <button
            class={`headline-3 tabbutton ${index === 0 ? "active" : ""}`}
            aria-selected={index === 0 ? "true" : "false"}
            data-index={index}
          >
            {job.title}
          </button>
        ))
      }
    </div>

    <div class="jobs-descriptions">
      {
        jobs.map(({ title, time, description, list }, index) => (
          <div
            class={`description tabcontent ${index === 0 ? "active" : ""}`}
            data-index={index}
          >
            <h3 class="mb-2 text-2xl font-bold text-[#38bdf8]">{title}</h3>
            <div class="job-time">
              {time.map((t) => (
                <time class="headline-4 text-zinc-500 mb-1" datetime={t}>
                  {t}
                </time>
              ))}
            </div>
            <p class="mb-3 text-zinc-300">{description}</p>
            <ul class="marker:text-[#7dd3fc] list-disc space-y-2 pl-5 text-zinc-400">
              {list.map((item) => (
                <li>{item}</li>
              ))}
            </ul>
          </div>
        ))
      }
    </div>
  </section>

  <div class="side-line"></div>
</section>

<script>
  import { initExperienceTabs } from "../../scripts/experienceTabs.js";

  initExperienceTabs();
  document.addEventListener("astro:after-swap", initExperienceTabs);
</script>
